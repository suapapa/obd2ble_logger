package main

import (
	"strings"
	"testing"

	"github.com/stretchr/testify/assert"
)

func TestGetSupportedPids(t *testing.T) {
	v, _ := hex2bytes(strings.Split("BE 3E A8 13", " "))
	pids := parseVal2SupportedPids(v)
	assert.Equal(t,
		[]byte{0x1, 0x3, 0x4, 0x5, 0x6, 0x7, 0xb, 0xc, 0xd, 0xe, 0xf, 0x11, 0x13, 0x15, 0x1c, 0x1f, 0x20},
		pids,
		"expected [0x1, 0x3, 0x4, 0x5, 0x6, 0x7, 0xb, 0xc, 0xd, 0xe, 0xf, 0x11, 0x13, 0x15, 0x1c, 0x1f, 0x20]",
	)
}
